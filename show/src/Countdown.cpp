//
//  Countdown.cpp
//  show
//
//  Created by Chris Mullany on 21/09/2015.
//
//

#include "Countdown.h"

Countdown::Countdown() {
}

void Countdown::setup() {
}

void Countdown::update() {
    if (tween.isRunning() && enabled) {
        progress = tween.update();
        if (tween.isCompleted()) {
            ofLogVerbose() << "countdown tween.isCompleted()";
            int i = 0;
            ofNotifyEvent(countdownCompleteEvent, i, this);
        }
    }
}

void Countdown::draw() {
}

//////////////////////////////////////////////////////////////////////////////////
// public
//////////////////////////////////////////////////////////////////////////////////
void Countdown::start(float duration) {
    enabled = true;
    tween.setParameters(easinglinear, ofxTween::easeOut, duration, 0, duration*1000, 0);
    tween.start();
}
void Countdown::stop() {
    progress = 0;
    enabled = false;
}
//////////////////////////////////////////////////////////////////////////////////
// protected
//////////////////////////////////////////////////////////////////////////////////

//////////////////////////////////////////////////////////////////////////////////
// private
//////////////////////////////////////////////////////////////////////////////////

//////////////////////////////////////////////////////////////////////////////////
// custom event handlers
//////////////////////////////////////////////////////////////////////////////////

//////////////////////////////////////////////////////////////////////////////////
// oF event handlers
//////////////////////////////////////////////////////////////////////////////////
