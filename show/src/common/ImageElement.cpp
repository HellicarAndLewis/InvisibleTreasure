//
//  ImageElement.cpp
//  show
//
//  Created by Chris Mullany on 17/09/2015.
//
//

#include "ImageElement.h"

ImageElement::ImageElement() {
}

void ImageElement::setup(string path) {
    image.loadImage(path);
}

void ImageElement::draw() {
    draw(getDisplayRect());
}


void ImageElement::draw(ofRectangle rect) {
    if (state == INACTIVE) return;
    else if (state == INTRO)  ofSetColor(255, 255, 255, progress*255);
    else if (state == OUTRO) ofSetColor(255, 255, 255, (1-progress)*255);
    else ofSetColor(255);
    ofRectangle imageRect = ofRectangle(0, 0, image.getWidth(), image.getHeight());
    imageRect.scaleTo(rect, OF_SCALEMODE_CENTER);
    image.draw(rect.getTopLeft(), rect.width, rect.height);
    ofSetColor(255);
}

void ImageElement::show(float duration, float delay) {
    if (state != INTERACTIVE) {
        timeIn = duration;
        setState(INTRO, delay);
    }
}

void ImageElement::hide(float duration) {
    if (state != INACTIVE) {
        timeOut = duration;
        setState(OUTRO);
    }
}

//////////////////////////////////////////////////////////////////////////////////
// public
//////////////////////////////////////////////////////////////////////////////////

//////////////////////////////////////////////////////////////////////////////////
// protected
//////////////////////////////////////////////////////////////////////////////////

//////////////////////////////////////////////////////////////////////////////////
// private
//////////////////////////////////////////////////////////////////////////////////

//////////////////////////////////////////////////////////////////////////////////
// custom event handlers
//////////////////////////////////////////////////////////////////////////////////

//////////////////////////////////////////////////////////////////////////////////
// oF event handlers
//////////////////////////////////////////////////////////////////////////////////
