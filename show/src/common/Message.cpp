//
//  Message.cpp
//  show
//
//  Created by Chris Mullany on 16/09/2015.
//
//

#include "Message.h"

Message::Message() {
    timeIn = 1;
    timeHold = 5;
    timeOut = 1;
    
}

void Message::setup(string fontPath, int fontSize) {
    layout.loadFont(fontPath, fontSize);
    layout.setAlignment(FTGL_ALIGN_LEFT);
}

void Message::update() {
}

void Message::draw() {
    draw(0, 0);
}

void Message::draw(int x, int y) {
    //ofPushStyle();
    //ofSetColor(255, 0, 0);
    //ofRect(x, y, getWidth(), getHeight());
    //ofPopStyle();
    layout.drawString(messageString, x, y + layout.getAscender());
}

//////////////////////////////////////////////////////////////////////////////////
// public
//////////////////////////////////////////////////////////////////////////////////
void Message::show(string message, float timeIn, float timeHold, float timeOut, bool loop) {
    this->messageString = message;
    this->timeIn = timeIn;
    this->timeHold = timeHold;
    this->timeOut = timeOut;
    Sequencable::play();
}

float Message::getWidth(){
    return layout.getStringBoundingBox(messageString, 0, 0).getWidth();
}

float Message::getHeight(){
    float height = layout.getStringBoundingBox(messageString, 0, 0).getHeight();
    return height;
}

//////////////////////////////////////////////////////////////////////////////////
// protected
//////////////////////////////////////////////////////////////////////////////////

//////////////////////////////////////////////////////////////////////////////////
// private
//////////////////////////////////////////////////////////////////////////////////

//////////////////////////////////////////////////////////////////////////////////
// custom event handlers
//////////////////////////////////////////////////////////////////////////////////

//////////////////////////////////////////////////////////////////////////////////
// oF event handlers
//////////////////////////////////////////////////////////////////////////////////
